<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Jekyll v4.0.1">
    <title>教师主页</title>


    <link href="../css/administrators/index.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://lib.baomitu.com/font-awesome/5.11.2/css/all.min.css">
    <script type="text/javascript" src="https://lib.baomitu.com/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://lib.baomitu.com/vue/2.6.10/vue.min.js"></script>


    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>
    <!-- Custom styles for this template -->
</head>
<body>
<div id="adminTeacher" style="width: 100%;height: 100%">
    <nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
        <a class="navbar-brand col-md-3 col-lg-2 mr-0 px-3" href="#">在线练习系统</a>
        <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-toggle="collapse" data-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <input class="form-control form-control-dark w-100" type="text" placeholder="搜索" aria-label="Search" id="searcher">
        <ul class="navbar-nav px-3" style="background-color: black">
            <li class="nav-item text-nowrap">
                <a class="nav-link" href="#" @click="searchQuestion">搜索</a>
            </li>
        </ul>
        <ul class="navbar-nav px-3" style="background-color: crimson">
            <li class="nav-item text-nowrap">
                <a class="nav-link" href="#" @click="logout">登出</a>
            </li>
        </ul>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
                <div class="sidebar-sticky pt-3">
                    <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>问题管理</span>
                        <!--                    <a class="d-flex align-items-center text-muted" href="#" aria-label="Add a new report">-->
                        <!--                        <span data-feather="plus-circle"></span>-->
                        <!--                    </a>-->
                    </h6>
                    <ul class="nav flex-column mb-2">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">
                                <span data-feather="check-circle"></span>
                                你的问题
                            </a>
                        </li>
                    </ul>
                    <ul class="nav flex-column mb-2">
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                <span data-feather="check-circle"></span>
                                所有问题
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">问题管理</h1>
                    <div class="btn-toolbar mb-2 mb-md-0">
                        <div class="btn-group mr-2">
                            <button type="button" class="btn btn-sm btn-outline-secondary" @click="getPageQuestion(1,15)">总览</button>
                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="displayWindow1()" @click="getCQInfo()">添加</button>
                        </div>
                    </div>
                </div>


                <h4 v-if="questionPage">所有问题</h4>
                <h4 v-if="answerPage">
                    <a href="#" @click="questionPage=true;answerPage=false">
                        你提出的问题
                    </a>
                    / 相关回答
                </h4>
                <div class="table-responsive" v-if="questionPage">
                    <table class="table table-striped table-sm">
                        <thead align="center">
                        <tr>
                            <th>问题ID</th>
                            <th>科目</th>
                            <th>问题类型</th>
                            <th>教师ID</th>
                            <th>操作</th>
                        </tr>
                        </thead>
                        <tbody align="center">
                        <tr v-for="(QuestionInfo,i) in QuestionInfoList">
                            <td>{{QuestionInfo.id}}</td>
                            <td>{{QuestionInfo.course.name}}</td>
                            <td>{{QuestionInfo.type.name}}</td>
                            <td>{{QuestionInfo.teacherId}}</td>
                            <td>
                                <button class="btn btn-primary btn-sm" data-toggle="modal" onclick="displayWindow()" @click="QuestionNow=i;teacherNow=QuestionInfo.teacherId;check(teacherNow);getNowQuestion(QuestionInfo.id)">查看</button>&nbsp;&nbsp;&nbsp;
                                <button class="btn btn-dark btn-sm" data-toggle="modal" @click="QuestionNow=i;questionPage=false;answerPage=true;getPageAnswer(1,15,QuestionInfo.id)">查看回答</button>&nbsp;&nbsp;
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <div class="page-bar">
                        <ul>
                            <li v-if="cur>1"><a v-on:click="cur=1,pageClick(),subArr()">首页</a></li>
                            <li v-if="cur==1"><a class="banclick">首页</a></li>
                            <li v-if="cur>1"><a v-on:click="cur--,pageClick(),subArr()">上一页</a></li>
                            <li v-if="cur==1"><a class="banclick">上一页</a></li>
                            <!--当前页背景色为蓝色-->
                            <li v-for="index in indexs"  v-bind:class="{ 'active': cur == index}">
                                <a v-on:click="btnClick(index),subArr()">{{ index }}</a>
                            </li>
                            <li v-if="cur<all"><a v-on:click="cur++,pageClick(),subArr()">下一页</a></li>
                            <li v-if="cur == all"><a class="banclick">下一页</a></li>
                            <li v-if="cur<all"><a v-on:click="cur=all,pageClick(),subArr()">尾页</a></li>
                            <li v-if="cur == all"><a class="banclick">尾页</a></li>
                            <li><a>共<i>{{all}}</i>页</a></li>
                        </ul>
                    </div>
                </div>
                <div class="table-responsive" v-if="answerPage">
                    <table class="table table-striped table-sm">
                        <thead align="center">
                        <tr>
                            <th>回答ID</th>
                            <th>学生学号</th>
                            <th>学生姓名</th>
                            <th>是否正确</th>
                            <th>得分情况</th>
                            <th>操作</th>
                        </tr>
                        </thead>
                        <tbody align="center">
                        <tr v-for="(AnswerInfo,i) in AnswerInfoList">
                            <td>{{AnswerInfo.id}}</td>
                            <td>{{AnswerInfo.student.stuNum}}</td>
                            <td>{{AnswerInfo.student.name}}</td>
                            <td v-if="AnswerInfo.correct==true">正确</td>
                            <td v-if="AnswerInfo.correct==false">错误</td>
                            <td v-if="AnswerInfo.score>0">{{AnswerInfo.score}}</td>
                            <td v-else>0</td>
                            <td>
                                <button class="btn btn-primary btn-sm" data-toggle="modal" @click="AnswerNow=i" onclick="displayWindow2()">查看</button>&nbsp;&nbsp;&nbsp;&nbsp;
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <div class="page-bar">
                        <ul>
                            <li v-if="cur>1"><a v-on:click="cur=1,pageClick(),subArr()">首页</a></li>
                            <li v-if="cur==1"><a class="banclick">首页</a></li>
                            <li v-if="cur>1"><a v-on:click="cur--,pageClick(),subArr()">上一页</a></li>
                            <li v-if="cur==1"><a class="banclick">上一页</a></li>
                            <!--当前页背景色为蓝色-->
                            <li v-for="index in indexs"  v-bind:class="{ 'active': cur == index}">
                                <a v-on:click="btnClick(index),subArr()">{{ index }}</a>
                            </li>
                            <li v-if="cur<all"><a v-on:click="cur++,pageClick(),subArr()">下一页</a></li>
                            <li v-if="cur == all"><a class="banclick">下一页</a></li>
                            <li v-if="cur<all"><a v-on:click="cur=all,pageClick(),subArr()">尾页</a></li>
                            <li v-if="cur == all"><a class="banclick">尾页</a></li>
                            <li><a>共<i>{{all}}</i>页</a></li>
                        </ul>
                    </div>
                </div>
            </main>
        </div>
        <!--悬浮窗口-->
        <div id="window" class="window_css" style="background-color: white">
            <div class="head">
                <span style="font-size: 1.2em;font-weight: bold ;margin-left: 5%;color: white" >问题信息</span>
                <a href="javascript:void(0)" onclick="hideWindow()">
                    <i class="fas fa-times" style="font-size: 2em;position:absolute;right: 7%;color: white"></i>
                </a>
            </div>
            <div class="table-responsive" style="margin-top: 5%">
                <h5 style="font-weight: bold">问题信息:</h5>
                <table width="100%" class="table table-striped table-sm" v-if="QuestionNow!=-1">

                    <tbody>
                    <tr>
                        <td>问题ID:{{QuestionInfoList[QuestionNow].id}}</td>
                        <td>科目:{{QuestionInfoList[QuestionNow].course.name}}</td>
                        <td>问题类别:{{QuestionInfoList[QuestionNow].type.name}}</td>
                    </tr>
                    <tr>
                        <td>教师ID:{{QuestionInfoList[QuestionNow].teacherId}}</td>
                        <td>教师工号:{{QuestionInfoList[QuestionNow].teacher.teacherNum}}</td>
                        <td>教师姓名:{{QuestionInfoList[QuestionNow].teacher.name}}</td>
                    </tr>

                    <tr>
                        <td><h6 style="font-weight: bold">问题标题:</h6></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td width="33%" style="word-break : break-all; ">
                            {{QuestionInfoList[QuestionNow].title}}
                        </td>
                        <td></td>
                        <td></td>
                    </tr>

                    <tr>
                        <td><h6 style="font-weight: bold">问题内容:</h6></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <td width="33%" style="word-break : break-all; ">
                        {{QuestionInfoList[QuestionNow].content}}
                    </td>
                    <td></td>
                    <td></td>

                    <tr v-if="QuestionInfoList[QuestionNow].type.name=='单项选择题'||QuestionInfoList[QuestionNow].type.name=='多项选择题'">
                        <td><strong>选项1:</strong> {{QuestionInfoList[QuestionNow].optionList[0].content}}</td>
                        <td><strong>选项2:</strong> {{QuestionInfoList[QuestionNow].optionList[1].content}}</td>
                        <td><strong>选项3:</strong> {{QuestionInfoList[QuestionNow].optionList[2].content}}</td>
                    </tr>
                    <tr v-if="QuestionInfoList[QuestionNow].type.name=='单项选择题'||QuestionInfoList[QuestionNow].type.name=='多项选择题'">
                        <td><strong>选项4:</strong> {{QuestionInfoList[QuestionNow].optionList[3].content}}</td>
                        <td></td>
                        <td><strong>正确答案:</strong><span v-for="(option,i) in QuestionInfoList[QuestionNow].optionList" v-if="option.truth"> 选项{{i+1}}</span></td>
                    </tr>

                    <tr>
                        <td><h6 style="font-weight: bold">问题解析:</h6></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td v-html="QuestionInfoList[QuestionNow].refAnswer"></td>
                    </tr>

                    <tr v-if="QuestionInfoList[QuestionNow].type.name=='单项选择题'||QuestionInfoList[QuestionNow].type.name=='多项选择题'">
                        <td><strong>回答人数:</strong> {{QuestionNowInfo.answerNumber}}</td>
                        <td><strong>正确人数:</strong> {{QuestionNowInfo.currentAnswerNumber}}</td>
                        <td><strong>正确率:</strong> {{QuestionNowInfo.currentRate}}</td>
                    </tr>

                    <tr>
                        <td>&nbsp;&nbsp;&nbsp;
                            <button class="btn btn-dark" data-toggle="modal" onclick="hideWindow()">关闭</button>
                        </td>
                        <td>

                        </td>
                        <td></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!--悬浮窗口-->
        <div id="window1" class="window_css" style="background-color: white">
            <div class="head">
                <span style="font-size: 1.2em;font-weight: bold ;margin-left: 5%;color: white" >添加问题</span>
                <a href="javascript:void(0)" onclick="hideWindow()" @click="nextStep=0">
                    <i class="fas fa-times" style="font-size: 2em;position:absolute;right: 7%;color: white"></i>
                </a>
            </div>
            <div class="table-responsive" style="margin-top: 5%" v-show="nextStep==0">
                <h5 style="font-weight: bold">问题信息:</h5>
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <label class="input-group-text" for="inputGroupSelect01">科目类别</label>
                    </div>
                    <select class="custom-select" id="inputGroupSelect01">
                        <option v-for="(CourseInfo,i) in CourseInfoList" :value="CourseInfo.id">{{CourseInfo.name}}</option>
                    </select>
                </div>
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <label class="input-group-text" for="inputGroupSelect01">问题类别</label>
                    </div>
                    <select class="custom-select" id="inputGroupSelect02" v-model="questionTypeNow">
                        <option v-for="(questionTypeInfo,i) in questionTypeList" :value="i">{{questionTypeInfo.name}}</option>
                    </select>
                </div>
                <table class="table table-striped table-sm">
                    <tbody>
                    <tr>
                        <td>
                            <button class="btn btn-dark" data-toggle="modal" onclick="hideWindow()">关闭</button>&nbsp;&nbsp;&nbsp;&nbsp;
                            <button class="btn btn-secondary" data-toggle="modal" @click="nextStep=1;checkSelect()">下一步</button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="table-responsive" style="margin-top: 5%" v-show="nextStep==1">
                <h5 style="font-weight: bold">问题信息:</h5>
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="inputGroup-sizing-default2">问题标题</span>
                    </div>
                    <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" id="questionTitle">
                </div>
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="inputGroup-sizing-defaultA">选项A</span>
                    </div>
                    <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" id="selectA">
                </div>
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="inputGroup-sizing-defaultB">选项B</span>
                    </div>
                    <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" id="selectB">
                </div>
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="inputGroup-sizing-defaultC">选项C</span>
                    </div>
                    <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" id="selectC">
                </div>
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="inputGroup-sizing-defaultD">选项D</span>
                    </div>
                    <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" id="selectD">
                </div>
                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="inputGroup-sizing-default3">答案解析</span>
                    </div>
                    <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default" id="questionRef">
                </div>
                <!--多选-->
                <div class="form-check form-check-inline" style="margin-left: 1%" v-show="isRorC==0">
                    <input class="form-check-input optionA" type="checkbox" id="inlineCheckbox1" value="optionA" v-model="checkboxNow[0]">
                    <label class="form-check-label" for="inlineCheckbox1">A</label>
                </div>
                <div class="form-check form-check-inline" v-show="isRorC==0">
                    <input class="form-check-input optionB" type="checkbox" id="inlineCheckbox2" value="optionB" v-model="checkboxNow[1]">
                    <label class="form-check-label" for="inlineCheckbox2">B</label>
                </div>
                <div class="form-check form-check-inline" v-show="isRorC==0">
                    <input class="form-check-input optionC" type="checkbox" id="inlineCheckbox3" value="optionC" v-model="checkboxNow[2]">
                    <label class="form-check-label" for="inlineCheckbox3">C</label>
                </div>
                <div class="form-check form-check-inline" v-show="isRorC==0">
                    <input class="form-check-input optionD" type="checkbox" id="inlineCheckbox4" value="optionD" v-model="checkboxNow[3]">
                    <label class="form-check-label" for="inlineCheckbox3">D (正确选项)</label>
                </div>
                <!--单选-->
                <div class="form-check form-check-inline" style="margin-left: 1%" v-show="isRorC==1">
                    <input class="form-check-input optionA" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="optionA" v-model="radioNow">
                    <label class="form-check-label" for="inlineRadio1">A</label>
                </div>
                <div class="form-check form-check-inline" v-show="isRorC==1">
                    <input class="form-check-input optionB" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="optionB" v-model="radioNow">
                    <label class="form-check-label" for="inlineRadio2">B</label>
                </div>
                <div class="form-check form-check-inline" v-show="isRorC==1">
                    <input class="form-check-input optionC" type="radio" name="inlineRadioOptions" id="inlineRadio3" value="optionC" v-model="radioNow">
                    <label class="form-check-label" for="inlineRadio3">C</label>
                </div>
                <div class="form-check form-check-inline" v-show="isRorC==1">
                    <input class="form-check-input optionD" type="radio" name="inlineRadioOptions" id="inlineRadio4" value="optionD" v-model="radioNow">
                    <label class="form-check-label" for="inlineRadio3">D (正确选项)</label>
                </div>

                <table class="table table-striped table-sm">
                    <tbody>
                    <tr>
                        <td>
                            <button class="btn btn-primary" data-toggle="modal" @click="nextStep=0;addQuestion()">完成</button>
                            <button class="btn btn-secondary" data-toggle="modal" @click="nextStep=0">上一步</button>&nbsp;&nbsp;&nbsp;&nbsp;
                            <button class="btn btn-dark" data-toggle="modal" onclick="hideWindow()" @click="nextStep=0">关闭</button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!--悬浮窗口-->
        <div id="window2" class="window_css" style="background-color: white">
            <div class="head">
                <span style="font-size: 1.2em;font-weight: bold ;margin-left: 5%;color: white" >回答信息</span>
                <a href="javascript:void(0)" onclick="hideWindow()">
                    <i class="fas fa-times" style="font-size: 2em;position:absolute;right: 7%;color: white"></i>
                </a>
            </div>
            <div class="table-responsive" style="margin-top: 5%">
                <h5 style="font-weight: bold">问题信息:</h5>
                <table width="100%" class="table table-striped table-sm" v-if="AnswerNow!=-1">

                    <tbody>
                    <tr>
                        <td>问题ID:{{QuestionInfoList[QuestionNow].id}}</td>
                        <td>科目:{{QuestionInfoList[QuestionNow].course.name}}</td>
                        <td>问题类别:{{QuestionInfoList[QuestionNow].type.name}}</td>
                    </tr>
                    <tr>
                        <td>教师ID:{{QuestionInfoList[QuestionNow].teacherId}}</td>
                        <td>教师工号:{{QuestionInfoList[QuestionNow].teacher.teacherNum}}</td>
                        <td>教师姓名:{{QuestionInfoList[QuestionNow].teacher.name}}</td>
                    </tr>

                    <tr>
                        <td><h6 style="font-weight: bold">问题标题:</h6></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td width="33%" style="word-break : break-all; ">
                            {{QuestionInfoList[QuestionNow].title}}
                        </td>
                        <td></td>
                        <td></td>
                    </tr>

                    <tr>
                        <td><h6 style="font-weight: bold">问题内容:</h6></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td width="33%" style="word-break : break-all; ">
                            {{QuestionInfoList[QuestionNow].content}}
                        </td>
                        <td></td>
                        <td></td>
                    </tr>

                    <tr>
                        <td><strong>选项1:</strong> {{QuestionInfoList[QuestionNow].optionList[0].content}}</td>
                        <td><strong>选项2:</strong> {{QuestionInfoList[QuestionNow].optionList[1].content}}</td>
                        <td><strong>选项3:</strong> {{QuestionInfoList[QuestionNow].optionList[2].content}}</td>
                    </tr>
                    <tr>
                        <td><strong>选项4:</strong> {{QuestionInfoList[QuestionNow].optionList[3].content}}</td>
                        <td></td>
                        <td><strong>正确答案:</strong><span v-for="(option,i) in QuestionInfoList[QuestionNow].optionList" v-if="option.truth"> 选项{{i+1}}</span></td>
                    </tr>

                    <tr>
                        <td><h6 style="font-weight: bold">问题解析:</h6></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td width="33%" style="word-break : break-all; ">
                            {{QuestionInfoList[QuestionNow].refAnswer}}
                        </td>
                        <td></td>
                        <td></td>
                    </tr>

                    <tr>
                        <td><strong>回答人数:</strong> {{QuestionNowInfo.answerNumber}}</td>
                        <td><strong>正确人数:</strong> {{QuestionNowInfo.currentAnswerNumber}}</td>
                        <td><strong>正确率:</strong> {{QuestionNowInfo.currentRate}}</td>
                    </tr>

                    <tr>
                        <td><h5 style="font-weight: bold">该生回答情况:</h5></td>
                        <td></td>
                        <td></td>
                    </tr>

                    <tr>
                        <td><strong>回答id:</strong> {{AnswerInfoList[AnswerNow].id}}</td>
                        <td><strong>学生id:</strong> {{AnswerInfoList[AnswerNow].student.id}}</td>
                        <td><strong>学生学号:</strong> {{AnswerInfoList[AnswerNow].student.stuNum}}</td>
                    </tr>

                    <tr>
                        <td><strong>学生姓名:</strong> {{AnswerInfoList[AnswerNow].student.name}}</td>
                        <td v-if="AnswerInfoList[AnswerNow].correct==true"><strong>是否正确:</strong> 正确</td>
                        <td v-if="AnswerInfoList[AnswerNow].correct==false"><strong>是否正确:</strong> 错误</td>
                        <td><strong>得分情况:</strong> {{AnswerInfoList[AnswerNow].score}}</td>
                    </tr>

                    <tr>
                        <td><h6 style="font-weight: bold">回答内容:</h6></td>
                        <td></td>
                        <td></td>
                    </tr>

                    <tr>
                        <td v-html="AnswerInfoList[AnswerNow].content"></td>
                    </tr>

                    <tr>
                        <td>&nbsp;&nbsp;&nbsp;
                            <button class="btn btn-dark" data-toggle="modal" onclick="hideWindow()">关闭</button>
                        </td>
                        <td>

                        </td>
                        <td></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!--出现悬浮窗口后,背景变暗-->
        <div id="shadow" class="shadow_css"></div>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
<script>
    /*当点击调用此方法后,将悬浮窗口显示出来,背景变暗*/
    function displayWindow() {
        console.log("displaywindow方法");
        /*悬浮窗口的显示,需要将display变成block*/
        document.getElementById("window").style.display = "block";
        /*将背景变暗*/
        document.getElementById("shadow").style.display = "block";
    }
    /*当点击调用此方法后,将悬浮窗口显示出来,背景变暗*/
    function displayWindow1() {
        console.log("displaywindow1方法");
        /*悬浮窗口的显示,需要将display变成block*/
        document.getElementById("window1").style.display = "block";
        /*将背景变暗*/
        document.getElementById("shadow").style.display = "block";
    }

    function displayWindow2() {
        console.log("displaywindow2方法");
        /*悬浮窗口的显示,需要将display变成block*/
        document.getElementById("window2").style.display = "block";
        /*将背景变暗*/
        document.getElementById("shadow").style.display = "block";
    }
    /*当点击调用此方法,将悬浮窗口和背景全部隐藏*/
    function hideWindow() {
        document.getElementById("window").style.display = "none";
        document.getElementById("window1").style.display = "none";
        document.getElementById("window2").style.display = "none";
        document.getElementById("shadow").style.display = "none";
    }

    function resetValue () {
        $('.custom-select').each(function (i, j) {
            var options = $(j).find("option");
            options.attr("selected", false);
            options.first().attr("selected", true);
        })
    }
    let adminTeacher=new Vue({
        el:"#adminTeacher",
        data:{
            all: 1, //总页数
            cur: 1,//当前页码
            now:-1,//当前索引
            StudentNow:-1,
            questionTypeNow:0,
            QuestionNow:-1,
            AnswerNow:-1,
            curAll:false,
            QuestionInfoList:[],//问题信息
            AnswerInfoList:[],//回答信息
            QuestionNowInfo:{},//当前问题信息
            nextStep: 0,
            isRorC: 0,//单选1或者多选0
            CourseInfoList:[],//科目列表
            questionTypeList:[],//问题类型列表
            radioNow:"",
            checkboxNow:["","","",""],
            questionPage:true,
            answerPage:false
        },
        watch: {
            cur: function(oldValue , newValue){
                console.log(arguments);
            }
        },
        methods:{
            getPageAnswer: function(pageNum,pageSize,id){
                $.ajax({
                    url: "../teacher/getAnswerList",
                    type: "GET",
                    data: {
                        pageNum:pageNum,
                        pageSize:pageSize,
                        questionId:id
                    },
                    dataType: "json",
                    success: function (result) {
                        if (result.code === 0) {
                            adminTeacher.AnswerInfoList = result.data.list;
                            adminTeacher.all = result.data.pages;
                        }
                    },
                    error: function (request, status, error) {
                        alert("系统异常！");
                        console.log(request.status);
                        console.log(request.readyState);
                        console.log(status);
                    }
                });
            },
            getNowQuestion:function(id){
                $.ajax({
                    url: "../teacher/getQuestion",
                    type: "GET",
                    data:{
                        id:id
                    },
                    dataType:"json",
                    success:function (result) {
                        if (result.code === 0) {
                            adminTeacher.QuestionNowInfo=result.data;
                        }
                    },
                    error:function (request,status,error) {
                        alert("系统异常！");
                        console.log(request.status);
                        console.log(request.readyState);
                        console.log(status);
                    }
                });
            },
            getCQInfo:function(){
                this.getCourseInfoList();
                this.getQuestionTypeList();
            },
            getCourseInfoList(){
                $.ajax({
                    url: "../question/getAllCourse",
                    type: "GET",
                    data:{
                    },
                    dataType:"json",
                    success:function (result) {
                        if (result.code === 0) {
                            adminTeacher.CourseInfoList=result.data;
                        }
                    },
                    error:function (request,status,error) {
                        alert("系统异常！");
                        console.log(request.status);
                        console.log(request.readyState);
                        console.log(status);
                    }
                });
            },
            getQuestionTypeList(){
                $.ajax({
                    url: "../question/getAllTypes",
                    type: "GET",
                    data:{
                    },
                    dataType:"json",
                    success:function (result) {
                        if (result.code === 0) {
                            adminTeacher.questionTypeList=result.data;
                        }
                    },
                    error:function (request,status,error) {
                        alert("系统异常！");
                        console.log(request.status);
                        console.log(request.readyState);
                        console.log(status);
                    }
                });
            },
            checkSelect:function(){
                let type = adminTeacher.questionTypeList[adminTeacher.questionTypeNow].name;
                if(type == "单项选择题"){
                    adminTeacher.isRorC=1;
                }
                else if(type == "多项选择题"){
                    adminTeacher.isRorC=0;
                }
            },
            addQuestion:function(){
                let question={};
                question.title = $('#questionTitle').val();
                question.typeId = adminTeacher.questionTypeList[adminTeacher.questionTypeNow].id;
                question.courseId = $('#inputGroupSelect01').val();
                let option1 = {},option2 = {},option3 = {},option4 = {};
                option1.content = $('#selectA').val();
                option2.content = $('#selectB').val();
                option3.content = $('#selectC').val();
                option4.content = $('#selectD').val();
                option1.truth=false;
                option2.truth=false;
                option3.truth=false;
                option4.truth=false;
                if(adminTeacher.isRorC == 0) {
                    let i;
                    for(i=0;i<adminTeacher.checkboxNow.length;i++){
                        if(adminTeacher.checkboxNow[i]==true&&i==0){
                            option1.truth=true;
                        }

                        if(adminTeacher.checkboxNow[i]==true&&i==1){
                            option2.truth=true;
                        }

                        if(adminTeacher.checkboxNow[i]==true&&i==2){
                            option3.truth=true;
                        }

                        if(adminTeacher.checkboxNow[i]==true&&i==3){
                            option4.truth=true;
                        }
                    }
                }
                if(adminTeacher.isRorC == 1) {
                    if(adminTeacher.radioNow == "optionA"){
                        option1.truth = true;
                        option2.truth = false;
                        option3.truth = false;
                        option4.truth = false;
                    }
                    if(adminTeacher.radioNow == "optionB"){
                        option1.truth = false;
                        option2.truth = true;
                        option3.truth = false;
                        option4.truth = false;
                    }
                    if(adminTeacher.radioNow == "optionC"){
                        option1.truth = false;
                        option2.truth = false;
                        option3.truth = true;
                        option4.truth = false;
                    }
                    if(adminTeacher.radioNow == "optionD"){
                        option1.truth = false;
                        option2.truth = false;
                        option3.truth = false;
                        option4.truth = true;
                    }
                }
                question.optionList = [];
                question.optionList.push(option1);
                question.optionList.push(option2);
                question.optionList.push(option3);
                question.optionList.push(option4);
                adminTeacher.add(question);
            },
            add:function(question){
                $.ajax({
                    url: "../teacher/addQuestion",
                    type: "PUT",
                    data:{
                        questionJson: JSON.stringify(question)
                    },
                    dataType:"json",
                    success:function (result) {
                        if (result.code === 0) {
                            alert("添加成功");
                            adminTeacher.getPageQuestion(1,15);
                        }
                    },
                    error:function (request,status,error) {
                        alert("系统异常！");
                        console.log(request.status);
                        console.log(request.readyState);
                        console.log(status);
                    }
                });
            },
            check: function(){
            },
            searchQuestion: function(){
                let id = $("input[id='searcher']").val();
                if($("input[id='searcher']").val()=='')
                    return;
                else
                    this.search(id);
            },
            search: function(id){
                $.ajax({
                    url: "../teacher/getQuestion",
                    type: "GET",
                    data:{
                        id: id
                    },
                    dataType:"json",
                    success:function (result) {
                        if (result.code === 0) {
                            adminTeacher.QuestionInfoList.splice(0,adminTeacher.QuestionInfoList.length);
                            adminTeacher.QuestionInfoList.push(result.data.question);
                        }
                    },
                    error:function (request,status,error) {
                        alert("系统异常！");
                        console.log(request.status);
                        console.log(request.readyState);
                        console.log(status);
                    }
                });
            },
            logout:function () {
                $.ajax({
                    url: "../teacher/logout",
                    type: "POST",
                    data:{},
                    dataType:"json",
                    success:function (result) {
                        if (result.code === 0) {
                            location.href = "login.html";
                        }
                    },
                    error:function (request,status,error) {
                        alert("系统异常！");
                        console.log(request.status);
                        console.log(request.readyState);
                        console.log(status);
                    }
                });
            },
            isLogin:function(){
                $.ajax({
                    url: "../teacher/isLogin",
                    type: "GET",
                    data: {},
                    dataType: "json",
                    success: function (result) {
                        if (result.code === 1) {
                            location.href="login.html";
                        }
                    },
                    error: function (request, status, error) {
                        alert("系统异常！");
                        console.log(request.status);
                        console.log(request.readyState);
                        console.log(status);
                    }
                });
            },
            getPageQuestion: function(pageNum,pageSize){
                $.ajax({
                    url: "../teacher/listAllQuestions",
                    type: "GET",
                    data: {
                        pageNum:pageNum,
                        pageSize:pageSize
                    },
                    dataType: "json",
                    success: function (result) {
                        if (result.code === 0) {
                            adminTeacher.QuestionInfoList = result.data.list;
                            adminTeacher.all = result.data.pages;
                        }
                    },
                    error: function (request, status, error) {
                        alert("系统异常！");
                        console.log(request.status);
                        console.log(request.readyState);
                        console.log(status);
                    }
                });
            },
            // page: function(){
            //     adminTeacher.all = Math.ceil(adminTeacher.reportInfoList.length/15) || 1;
            // },
            btnClick: function(data){
                if(data != this.cur){
                    this.cur = data;
                }
            },
            pageClick: function(){
                console.log('现在在'+this.cur+'页');
            },
            subArr() {
                if(this.answerPage==false){
                    console.log("subArr");
                    this.getPageQuestion(this.cur,15);
                    return this.QuestionInfoList;
                }
                else{
                    console.log("subArr");
                    this.getPageAnswer(this.cur,15,this.QuestionInfoList[this.QuestionNow].id);
                    return this.QuestionInfoList;
                }
            }
        },
        computed: {
            indexs: function(){
                var left = 1;
                var right = this.all;
                var ar = [];
                if(this.all>= 5){
                    //这里最大范围从3到6，如果到达7，那么下边加2变成9，已经超过最大的范围值
                    if(this.cur > 3 && this.cur < this.all-1){
                        //以4为参考基准，左面加2右边加2
                        left = this.cur - 2
                        right = this.cur + 2
                    }else{
                        if(this.cur<=3){
                            left = 1
                            right = 5
                        }else{
                            right = this.all
                            left = this.all -4
                        }
                    }
                }
                while (left <= right){
                    ar.push(left)
                    left ++
                }
                console.log(ar);
                return ar
            },
        },
        mounted:function () {
            this.isLogin();
            this.getPageQuestion(this.cur,15);
            // this.getCQInfo();
        }
    });
    (function () {
        'use strict'

        feather.replace()

        // Graphs
        var ctx = document.getElementById('myChart')
        // eslint-disable-next-line no-unused-vars

    }())
</script>
</body>
</html>
